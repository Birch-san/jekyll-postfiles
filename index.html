<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Jekyll Post Files by nhoizey</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Jekyll Post Files</h1>
      <h2 class="project-tagline">A Jekyll plugin that copies static files from the _posts to the _site folder</h2>
      <a href="https://github.com/nhoizey/jekyll-postfiles" class="btn">View on GitHub</a>
      <a href="https://github.com/nhoizey/jekyll-postfiles/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/nhoizey/jekyll-postfiles/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <p><a href="https://badge.fury.io/rb/jekyll-postfiles"><img src="https://badge.fury.io/rb/jekyll-postfiles.svg" alt="Gem Version"></a>
<a href="http://rubygems.org/gems/jekyll-postfiles"><img src="https://img.shields.io/gem/dt/jekyll-postfiles.svg?style=flat" alt="Gem Downloads"></a></p>





<h2>
<a id="table-of-contents" class="anchor" href="#table-of-contents" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Table of contents</h2>

<ul>
<li>
<a href="#easing-the-management-of-images-and-other-files-attached-to-markdown-posts">Easing the management of images (and other files) attached to Markdown posts</a>

<ul>
<li><a href="#the-pain-of-jekylls-recommended-posts-assets-management">The pain of Jekyll's recommended posts assets management</a></li>
<li><a href="#there-must-be-another-way">There must be another way</a></li>
<li><a href="#not-every-assets-need-this">Not every assets need this</a></li>
</ul>
</li>
<li><a href="#how-does-it-work">How does it work?</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#usage">Usage</a></li>
<li><a href="#contributing">Contributing</a></li>
<li><a href="#license">License</a></li>
<li><a href="#thanks">Thanks</a></li>
</ul>



<h2>
<a id="easing-the-management-of-images-and-other-files-attached-to-markdown-posts" class="anchor" href="#easing-the-management-of-images-and-other-files-attached-to-markdown-posts" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Easing the management of images (and other files) attached to Markdown posts</h2>

<h3>
<a id="the-pain-of-jekylls-recommended-posts-assets-management" class="anchor" href="#the-pain-of-jekylls-recommended-posts-assets-management" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>The pain of Jekyll's recommended posts assets management</h3>

<p>Jekyll's natural way to deal with static files attached to posts, like images or PDFs, is to put them all in a global <code>assets/</code> (or <code>downloads/</code>) folder at the site root. Read "<a href="https://jekyllrb.com/docs/posts/#including-images-and-resources">Including images and resources</a>" in Jekyll's documentation.</p>

<p>You can of course put files in subfolders of <code>assets/</code>, but it will be really cumbersome to manage posts' Markdown files in <code>_posts/</code> or a subfolder, and images elsewhere, and then use the good hierarchy in all Markdown image tags.</p>

<p>Imagine you have these files:</p>

<pre><code>_posts/
  2016-06/
    2016-06-09-so-long-cloudflare-and-thanks-for-all-the-fissh.md
…
assets/
  2016-06-09-cloudflare/
    cloudflare-architecture.png
    performance-report-sample.pdf
</code></pre>

<p>To use the image and PDF files in the post's Markdown, you will have to write this:</p>

<div class="highlight highlight-source-gfm"><pre>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
tempor incididunt ut labore et dolore magna aliqua.

![<span class="pl-e">Cloudflare architecture</span>](/assets/2016-06-09-cloudflare/cloudflare-architecture.png)

Ut enim ad minim veniam,
quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
consequat.

Here is [<span class="pl-e">an example of performance report</span>](/assets/2016-06-09-cloudflare/performance-report-sample.pdf).

Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
tempor incididunt ut labore et dolore magna aliqua.</pre></div>

<p>Painful to write.</p>

<p>Imagine you want to change the post's publication date, or one of the file names?</p>

<p>Painful to update.</p>

<p>What if you want to put new WIP Markdown files in <code>_drafts/</code>, and the attached assets somewhere in a way they won't be copied to the destination <code>_site/</code> folder next time you build the site? You can't put the files in the <code>assets/</code> folder, so when you will publish the draft, you will have to change the assets location in the Markdown file.</p>

<p>Painful, and prone to errors.</p>

<p>And what about previewing the content while editing? If you use an editor like <a href="http://macdown.uranusjr.com/">MacDown</a> with live preview, how will it find the actual path to the images? What means <code>/assets/…</code> for the editor?</p>

<p>Painful to preview.</p>

<h3>
<a id="there-must-be-another-way" class="anchor" href="#there-must-be-another-way" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>There must be another way</h3>

<p>What if instead, you could have the files stored like that:</p>

<pre><code>_posts/
  2016-06-09-cloudflare/
    2016-06-09-so-long-cloudflare-and-thanks-for-all-the-fissh.md
    cloudflare-architecture.png
    performance-report-sample.pdf
</code></pre>

<p>And if you could write your Markdown like this:</p>

<div class="highlight highlight-source-gfm"><pre>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
tempor incididunt ut labore et dolore magna aliqua.

![<span class="pl-e">Cloudflare architecture</span>](cloudflare-architecture.png)

Ut enim ad minim veniam,
quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
consequat.

Here is [<span class="pl-e">an example of performance report</span>](performance-report-sample.pdf).

Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
tempor incididunt ut labore et dolore magna aliqua.</pre></div>

<p>Much easier!</p>

<ul>
<li>Easy to store, everything is in one single folder.</li>
<li>Easy to write, no path to add to file links</li>
<li>Easy to update</li>
<li>Easy to move from <code>_drafts/</code> to <code>_posts/</code>, without anything to change in the Mardown content</li>
<li>Easy to edit in any editor with live preview</li>
</ul>

<h3>
<a id="not-every-assets-need-this" class="anchor" href="#not-every-assets-need-this" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Not every assets need this</h3>

<p><a href="http://stackoverflow.com/a/10366173/717195">Some Jekyll users will try to convince you</a> it's a bad idea, because it means the asset is tightly linked to the post.</p>

<p>In my own experience, 95% of assets, at least, are used in one single post. And this is pretty common to find such requests from users of other static generators, like <a href="https://github.com/spf13/hugo/issues/147">Hugo</a> (<a href="https://github.com/spf13/hugo/issues/147#issuecomment-104067783">fixed in May 2015</a>), <a href="https://github.com/getnikola/nikola/issues/2266">Nikola</a> (<a href="https://github.com/getnikola/nikola/issues/2266#issuecomment-189211387">already there, but not obvious or user friendly</a>), <a href="http://stackoverflow.com/questions/17052468/insert-local-image-into-a-blog-post-with-octopress">Octopress</a>, etc.</p>

<p>But it's true this might not be ideal for all assets (the remaining 5%), so you can of course continue using full assets paths with <code>/assets/…</code> to have a few assets shared by several posts.</p>

<h2>
<a id="how-does-it-work" class="anchor" href="#how-does-it-work" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>How does it work?</h2>

<p>This plugin takes any file that is in posts folders, and copy them to the folder in which the post HTML page will be created.</p>

<p>Let's say you have these files:</p>

<pre><code>_posts/
  2016-06-09-cloudflare/
    2016-06-09-so-long-cloudflare-and-thanks-for-all-the-fissh.md
    cloudflare-architecture.png
    performance-report-sample.pdf
</code></pre>

<p>And your Jekyll settings for permalinks are these:</p>

<div class="highlight highlight-source-yaml"><pre><span class="pl-c"># Permalinks</span>
<span class="pl-s"><span class="pl-ent">permalink:</span> <span class="pl-s">/:year/:month/:day/:title/</span></span></pre></div>

<p>Jekyll with this plugin will generate the site content like this:</p>

<pre><code>2016/
  06/
    09/
      so-long-cloudflare-and-thanks-for-all-the-fissh/
        index.html
        cloudflare-logo.png
        performance-report-sample.pdf
</code></pre>

<p>If you change your Jekyll settings for permalinks like these:</p>

<div class="highlight highlight-source-yaml"><pre><span class="pl-c"># Permalinks</span>
<span class="pl-s"><span class="pl-ent">permalink:</span> <span class="pl-s">/:year/:month/:day/:title.html</span></span></pre></div>

<p>Jekyll with this plugin will generate the site content like this:</p>

<pre><code>2016/
  06/
    09/
      so-long-cloudflare-and-thanks-for-all-the-fissh.html
      cloudflare-logo.png
      performance-report-sample.pdf
</code></pre>

<p>Handy, isn't it?</p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h2>

<p>Add this line to your <code>Gemfile</code>:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-k">gem</span> <span class="pl-s"><span class="pl-pds">'</span>jekyll-postfiles<span class="pl-pds">'</span></span></pre></div>

<p>Execute this:</p>

<div class="highlight highlight-source-shell"><pre>$ bundle</pre></div>

<p>And add this line to your <code>_config.yml</code>:</p>

<div class="highlight highlight-source-yaml"><pre><span class="pl-s"><span class="pl-ent">gems:</span></span>
  <span class="pl-s">- <span class="pl-s">jekyll-postfiles</span></span></pre></div>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage</h2>

<p>You don't have anything to do.</p>

<p>Just put the images (and PDFs, etc.) in the same folder as your Markdown files, and use the standard Markdown image syntax, without any path.</p>

<h2>
<a id="contributing" class="anchor" href="#contributing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Contributing</h2>

<p>Bug reports and pull requests are welcome on GitHub at <a href="https://github.com/nhoizey/jekyll-postfiles">https://github.com/nhoizey/jekyll-postfiles</a></p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h2>

<p>The gem is available as open source under the terms of the <a href="http://opensource.org/licenses/MIT">MIT License</a>.</p>

<h2>
<a id="thanks" class="anchor" href="#thanks" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Thanks</h2>

<p>Inspired by <a href="https://gist.github.com/kevinoid/3131752">this old Gist</a> by <a href="https://github.com/kevinoid/">@kevinoid</a>.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/nhoizey/jekyll-postfiles">Jekyll Post Files</a> is maintained by <a href="https://github.com/nhoizey">nhoizey</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
